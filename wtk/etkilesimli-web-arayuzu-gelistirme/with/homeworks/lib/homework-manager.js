const params=new URLSearchParams(window.location.search),homeworks=(new window.Homeworks).get_homeworks;let isHomeworkCreated=!1,currentHomeworkIndex=params.get("hw")&&params.get("hw")<=homeworks.length-1?params.get("hw"):0;function createElem(e,o,t,r,n){const m=document.createElement(o);return t&&(m.id=t),r&&(m.className=r),n&&(m.innerText=n),e&&e.appendChild(m),m}function createHomework(e,o=!1,t={}){if(t.length<=0)throw new Error("homeworks length less then zero!");const r="previous-homework",n="next-homework",m="homework-header-subtitle",a="homework-title",c="homework-list",d="homework-author",i="homework",w="homework-header",l="homework-main",k="homework-footer",s="homework-mobile-pagination",h="homework-mobile-prev-pag",u="homework-mobile-next-pag",E=document.querySelector("title");E.innerHTML="";(o?document.getElementById(r):createElem(e,"button",r,"btn pagination-btn","<<")).addEventListener("click",(()=>prevHomwork(!1,e)));const H=o?document.getElementById(i):createElem(e,"main",i,"homework");if(t.title||t.homeworkID){const e=o?document.getElementById(w):createElem(H,"header",w,"homework-title");if(t.homeworkID){const r=o?document.getElementById(m):createElem(e,"span",m,"homework-subtitle"),n=`${t.homeworkID}. Ã–dev`;r.innerText=n,E.innerHTML+=`${n} - `}if(t.title){(o?document.getElementById(a):createElem(e,"span",a)).innerText=t.title,E.innerHTML+=`${t.title} | `}}if(t.execfn){const e=o?document.getElementById(l):createElem(H,"main",l),r=o?document.getElementById(c):createElem(e,"div",c,"homework-codeblock");r.innerHTML="",t.execfn(r)}if(t.lesson&&t.depart||t.author){const e=o?document.getElementById(k):createElem(H,"footer",k,"homework-subtitle");if(t.lesson&&t.depart){(o?d:createElem(e,"homwork-lesson","div")).innerText=`${t.lesson} ${t.depart}`,E.innerHTML+=`${t.lesson} - ${t.depart} |`}if(t.author){(o?document.getElementById(d):createElem(e,d,"div")).innerText=t.author,E.innerHTML+=t.author}}(o?document.getElementById(n):createElem(e,"button",n,"btn pagination-btn",">>")).addEventListener("click",(()=>nextHomework(!1,e)));const I=o?document.getElementById(s):createElem(e,"div",s,"mobile-pagination");(o?document.getElementById(h):createElem(I,"button",h,"btn","<<")).addEventListener("click",(()=>prevHomwork(!1,e)));(o?document.getElementById(u):createElem(I,"button",u,"btn",">>")).addEventListener("click",(()=>nextHomework(!1,e))),!1===isHomeworkCreated&&(isHomeworkCreated=!0)}function nextHomework(e=!1,o,t=currentHomeworkIndex,r=homeworks.length-1){return currentHomeworkIndex=r>t?t+1:0,params.set("hw",currentHomeworkIndex),e?currentHomeworkIndex:createHomework(o,!0,homeworks[currentHomeworkIndex])}function prevHomwork(e=!1,o,t=currentHomeworkIndex,r=homeworks.length-1){return currentHomeworkIndex=t>0?t-1:r,params.set("hw",currentHomeworkIndex),e?currentHomeworkIndex:createHomework(o,!0,homeworks[currentHomeworkIndex])}0===currentHomeworkIndex&&params.set("hw","0"),document.addEventListener("DOMContentLoaded",(()=>{const e=document.createElement("main");e.className="work",isHomeworkCreated||createHomework(e,!1,homeworks[currentHomeworkIndex]),document.body.appendChild(e)}));